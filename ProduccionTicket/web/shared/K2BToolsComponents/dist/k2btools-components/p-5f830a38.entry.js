import{r as t,c as s,h as i}from"./p-96e74049.js";import{C as e}from"./p-2aed5163.js";const r=class{constructor(i){t(this,i),this.changeEvent=s(this,"change",7),this.newRecordClickedEvent=s(this,"newRecordClicked",7),this.SmallChip="SmallChip",this.MediumChip="MediumChip",this.Rectangle="Rectangle",this.value=null,this.values=[],this.includeemptyitem=!0,this.emptyitemtext="(none)",this.noresultsfoundtext="No results found",this.enableadditem=!0,this.additemcaption="New record",this.enabled=!0,this.readonlyclass="",this.togglestyle=this.MediumChip,this.selectedElement=null}onImageError(t){t.target.classList.add("K2BT_ToggleBarIconInvisible")}setValue(t){this.value=t,this.changeEvent.emit(t)}getToggleContent(t,s,e,r){if(0==t.length)return i("div",{class:"K2BT_ToggleBar_NoItems"},this.noresultsfoundtext);{const l=t.filter(t=>{var s,i;return 0==(null!==(i=null===(s=t.items)||void 0===s?void 0:s.length)&&void 0!==i?i:0)}),o=t.filter(t=>{var s;return(null===(s=t.items)||void 0===s?void 0:s.length)>0});var a="K2BT_ToggleBar_Container";return this.togglestyle==this.SmallChip?a+=" K2BT_ToggleBarSmallChip":this.togglestyle==this.Rectangle&&(a+=" K2BT_ToggleBarRectangle"),i("div",{class:a},l.length>0?i("div",{class:"K2BT_ToggleBarItemContainer"},l.map(t=>i("div",{class:this.value.trim()==t.value.trim()?"K2BT_ToggleBarItem K2BT_ToggleBarItemSelected":"K2BT_ToggleBarItem",ref:s=>{this.value.trim()==t.value.trim()&&(this.selectedElement=s)},onClick:()=>this.setValue(t.value.trim())},e?i("div",{class:"K2BT_ToggleBarIconContainer"},i("img",{class:"K2BT_ToggleBarIcon",src:t.imageUrl,onError:t=>this.onImageError(t)})):"",i("div",{class:"K2BT_ToggleBarItem_TextSection"},i("div",{class:"K2BT_ToggleBarItem_TextContainer"},i("span",{class:"K2BT_ToggleBarDescription"},t.description),r?i("span",{class:"K2BT_ToggleBarTrailingText"},t.trailingText):""),i("div",{class:"K2BT_ToggleBarItem_TextContainer"},s?i("span",{class:"K2BT_ToggleBarSubtitle"},t.detail):""))))):"",o.map(t=>i("div",{class:"K2BT_ToggleBar_CategoryContainer"},i("div",{class:"K2BT_ToggleBarCategoryName"},t.description),this.getToggleContent(t.items,s,e,r))))}}getHeaderContent(){if(null==this.value)return this.emptyitemtext;var t=e.getAtomicValues_impl(this.getValues()).filter(t=>t.value.trim()==this.value.trim());return t.length>0?t[0].description:this.emptyitemtext}render(){var t=e.containsDetails(e.getAtomicValues_impl(this.values)),s=e.containsIcons(e.getAtomicValues_impl(this.values)),r=e.containsTrailingText(e.getAtomicValues_impl(this.values)),a=this.getValues();return this.enabled?this.getToggleContent(a,t,s,r):i("p",{class:"form-control-static"},i("span",{class:this.readonlyclass},this.getHeaderContent()))}getValues(){var t=[...this.values];return this.includeemptyitem&&t.unshift({value:"",description:this.emptyitemtext,imageUrl:"",detail:"",trailingText:"",items:[]}),t}componentDidLoad(){var t=e.getAtomicValues_impl(this.values);this.includeemptyitem||0!=t.filter(t=>t.value.trim()==this.value.trim()).length||t.length>0&&this.setValue(t[0].value.trim())}};r.style=":host{display:block}";export{r as k2bt_toggle_bar}